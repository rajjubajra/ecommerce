(this["webpackJsonpshopify-tw2-01"]=this["webpackJsonpshopify-tw2-01"]||[]).push([[0],{31:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var r=c(2),n=c.n(r),s=c(16),i=c.n(s),o=(c(31),c(25)),a=c(3),u=c(7),l=c(15),d=c(6),j=c.n(d),h=c(8),b=c(17),p=c(18),f=c(26),x=c(24),m=c(19),v=c.n(m),O=c(1),k=n.a.createContext(),C=v.a.buildClient({storefrontAccessToken:"cc92551596409162e6f510c8efd7f0b0",domain:"yw-t-shirt.myshopify.com"}),g=function(e){Object(f.a)(c,e);var t=Object(x.a)(c);function c(){var e;Object(b.a)(this,c);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={products:[],product:{},checkout:{},isCartOpen:!1,removedItem:{}},e.createCheckout=Object(h.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.checkout.create();case 2:return c=t.sent,localStorage.setItem("yw_store_checkout",c.id),t.next=6,e.setState({checkout:c});case 6:case"end":return t.stop()}}),t)}))),e.fetchCheckout=function(){var t=Object(h.a)(j.a.mark((function t(c){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:C.checkout.fetch(c).then((function(t){e.setState({checkout:t})})).catch((function(e){return console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.addItemToCheckout=function(){var t=Object(h.a)(j.a.mark((function t(c,r){var n,s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[{variantId:c,quantity:parseInt(r,10)}],t.next=3,C.checkout.addLineItems(e.state.checkout.id,n);case 3:s=t.sent,e.setState({checkout:s}),console.log(s),e.openCart();case 7:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}(),e.removeItemFromCheckout=function(){var e=Object(h.a)(j.a.mark((function e(t,c){var r,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[c],n=C.checkout.removeLineItems(t,r).then((function(e){return console.log(e.lineItems),console.log(e.lineItems.type),e.lineItems})),console.log(n);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),e.fetchAllProducts=Object(h.a)(j.a.mark((function t(){var c;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.product.fetchAll();case 2:c=t.sent,e.setState({products:c});case 4:case"end":return t.stop()}}),t)}))),e.fetchProductWithId=function(){var t=Object(h.a)(j.a.mark((function t(c){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.product.fetch(c);case 2:return r=t.sent,e.setState({product:r}),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.closeCart=function(){e.setState({isCartOpen:!1})},e.openCart=function(){e.setState({isCartOpen:!0})},e}return Object(p.a)(c,[{key:"componentDidMount",value:function(){localStorage.yw_store_checkout?this.fetchCheckout(localStorage.yw_store_checkout):this.createCheckout()}},{key:"render",value:function(){return Object(O.jsx)(k.Provider,{value:Object(l.a)(Object(l.a)({},this.state),{},{fetchAllProducts:this.fetchAllProducts,fetchProductWithId:this.fetchProductWithId,closeCart:this.closeCart,openCart:this.openCart,addItemToCheckout:this.addItemToCheckout,removeItemFromCheckout:this.removeItemFromCheckout}),children:this.props.children})}}]),c}(r.Component),y=(k.Consumer,g);var w=function(){return Object(O.jsx)("div",{children:"Loading..."})};var I=function(e){var t=e.setProductId,c=Object(r.useContext)(k),n=c.fetchAllProducts,s=c.products;return console.log("productts ",s),Object(r.useEffect)((function(){return n(),function(){}}),[n]),s?Object(O.jsx)("div",{children:s.map((function(e){var c,r,n=e.id,s=e.title,i=e.descriptionHtml,o=e.images,a=e.variants;return Object(O.jsxs)("div",{onClick:function(){return t(n)},className:"border border-gray-300 p-3 m-3",children:[Object(O.jsx)("h3",{children:s}),Object(O.jsx)("div",{children:i}),Object(O.jsx)("div",{children:(r=o,r.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)("img",{className:"w-48 p-1",src:e.src,alt:"product item"})})})))}),Object(O.jsx)("div",{children:(c=a,c.map((function(e){var t=e.available,c=e.sku,r=e.title,n=e.price;return t&&Object(O.jsxs)("div",{className:"flex p-2 bg-gray-100 m-1",children:[Object(O.jsx)("p",{children:r}),Object(O.jsxs)("p",{children:[" Price: ",n]}),Object(O.jsxs)("p",{children:[" SKU: ",c]})]})})))})]})}))}):Object(O.jsx)(w,{})};var N=function(e){var t,c,n=e.productId,s=e.setProductId,i=Object(r.useContext)(k),o=i.fetchProductWithId,a=i.addItemToCheckout,u=i.product;return Object(r.useEffect)((function(){o(n)}),[o,n]),u.title?Object(O.jsxs)("div",{className:"w-1/2 m-auto flex flex-col justify-center",children:[Object(O.jsx)("div",{className:"p-2 m-2 w-20 cursor-pointer",children:Object(O.jsx)("div",{onClick:function(){return s("")},children:" Close "})}),u&&Object(O.jsxs)("div",{className:"flex flex-col py-4 my-2 border border-gray-200",children:[Object(O.jsx)("h1",{className:"text-2xl",children:u.title}),Object(O.jsx)("div",{children:(c=u.images,c.map((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)("img",{className:"md:w-1/2 w-full p-1",src:e.src,alt:"product item"})})})))}),Object(O.jsx)("div",{children:(t=u.variants,t.map((function(e){var t=e.available,c=e.sku,r=e.title,n=e.price;return t&&Object(O.jsxs)("div",{className:"flex flex-col p-2 bg-gray-100 m-1",children:[Object(O.jsx)("div",{children:r}),Object(O.jsxs)("div",{children:[" Price: ",n]}),Object(O.jsxs)("div",{children:[" SKU: ",c]})]})})))}),Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"cursor-pointer p-2 m-2",onClick:function(){return a(u.variants[0].id,1)},children:"Add to Cart"})})]})]}):Object(O.jsx)(w,{})},S=c(20),P=c(21),A=c(12);var T=function(){var e=Object(r.useContext)(k),t=(e.isCartOpen,e.closeCart,e.checkout),c=e.addItemToCheckout,n=e.removeItemFromCheckout;console.log(t),console.log(t&&!0===t&&t.lineItems);var s=Object(r.useState)([]),i=Object(u.a)(s,2),o=i[0],a=i[1],l=Object(r.useState)(0),d=Object(u.a)(l,2),j=d[0],h=d[1],b=Object(r.useState)(""),p=Object(u.a)(b,2),f=p[0],x=p[1];return Object(r.useEffect)((function(){t&&void 0!==t&&a(t.lineItems),t&&void 0!==t&&h(t.totalPriceV2)}),[t,o]),Object(r.useEffect)((function(){void 0!==j&&x(j.currencyCode)}),[j]),void 0!==o&&o.length,Object(O.jsxs)("div",{className:"w-full flex flex-col p-4 my-3 border-2 border-gray-300",children:[Object(O.jsx)("h2",{className:"text-xl",children:"Cart"}),void 0!==o&&o.length>0?o.map((function(e){var r=e.variant,s=r.price,i=r.id,o=e.quantity,a=e.title,u=s*o;return console.log("product id",i,"checkoutid",t.id),Object(O.jsx)("div",{className:"flex flex-row flex-wrap",children:Object(O.jsx)("div",{className:"m-10",children:Object(O.jsxs)("div",{children:[Object(O.jsx)("h3",{className:"text-xl py-1 mb-1",children:a}),Object(O.jsx)("div",{className:"cursor-pointer relative",children:Object(O.jsx)("div",{title:"Remove",onClick:function(){return n(t.id,e.id)},children:Object(O.jsx)(S.a,{})})}),Object(O.jsx)("img",{className:"w-56 mt-1 p-2",src:e.variant.image.src,alt:e.variant.image.altText}),Object(O.jsxs)("div",{className:"grid grid-flow-row gap-2 w-full",children:[Object(O.jsxs)("div",{children:["Description: ",e.variant.title]}),Object(O.jsxs)("div",{className:"grid grid-col-3 gap-2 my-2",children:[Object(O.jsxs)("p",{children:["Quantity: ",o," "]}),Object(O.jsx)("p",{className:"cursor-pointer p-2 m-2",onClick:function(){return c(i,1)},children:Object(O.jsx)(P.a,{})}),Object(O.jsx)("p",{className:"cursor-pointer p-2 m-2",onClick:function(){return c(i,-1)},children:Object(O.jsx)(A.a,{})})]}),Object(O.jsxs)("div",{children:["Rate: ",f," ",s]}),Object(O.jsxs)("div",{children:["Amount: ",f," ",u.toFixed(2)]})]})]})})})})):Object(O.jsxs)("div",{children:["closeCart()",Object(O.jsx)("div",{className:"text-xl p-2",children:"Cart is empty"})]}),Object(O.jsxs)("div",{class:"font-bold mt-2",children:["Total Amount : ",f," ",void 0!==j&&j.amount]}),Object(O.jsx)("div",{children:void 0!==t&&void 0!==o&&o.length>0&&Object(O.jsx)("div",{className:"cursor-pointer py-2 px-4 my-5 border-gray-500",onClick:function(){return window.open(t.webUrl,"_blank")},children:"Checkout"})})]})};var _=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),c=t[0],n=t[1],s=Object(r.useState)(""),i=Object(u.a)(s,2);return i[0],i[1],console.log(c),Object(O.jsx)("div",{children:Object(O.jsxs)(y,{children:[Object(O.jsx)(I,{setProductId:n}),Object(O.jsx)(N,{productId:c,setProductId:n}),Object(O.jsx)(T,{})]})})};var E=function(){return Object(O.jsxs)("div",{children:["shopify shop",Object(O.jsx)(o.a,{children:Object(O.jsx)(a.b,{children:Object(O.jsx)(_,{})})})]})};i.a.render(Object(O.jsx)(E,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.91a80110.chunk.js.map