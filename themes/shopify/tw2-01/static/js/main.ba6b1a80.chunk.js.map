{"version":3,"sources":["context/shopContext.js","Products.js","App.js","index.js"],"names":["ShopContext","React","createContext","client","Client","buildClient","storefrontAccessToken","domain","Component","Consumer","Products","useState","App","ReactDom","render","document","getElementById"],"mappings":"6SAGMA,EAAcC,IAAMC,gBAGpBC,EAASC,IAAOC,YAAY,CAChCC,sBAAuB,mCACvBC,OAAQ,6BAKiBC,YAuINR,EAAYS,S,kBCvHlBC,MAtBf,WAOE,MAAkCC,mBAAS,IAA3C,mBAQA,OARA,UASE,8BACE,qDCLSC,MAdf,WAEE,OACE,+CAEE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,EAAD,YCLVC,IAASC,OAAO,cAAC,EAAD,IAAQC,SAASC,eAAe,W","file":"static/js/main.ba6b1a80.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport Client from \"shopify-buy\";\n\nconst ShopContext = React.createContext();\n\n\nconst client = Client.buildClient({\n  storefrontAccessToken: 'cc92551596409162e6f510c8efd7f0b0',\n  domain: 'yw-t-shirt.myshopify.com',\n});\n\n\n\nclass ShopProvider extends Component {\n\n  state = {\n    products: [],\n    product: {},\n    checkout: {},\n    isCartOpen: false,\n    removedItem: {}\n  };\n\n  componentDidMount() {\n    // this.createCheckout();\n\n    //Check if localStorage has a checkout_id saved\n    if (localStorage.yw_store_checkout) {\n      this.fetchCheckout(localStorage.yw_store_checkout);\n    } else {\n      this.createCheckout();\n    }\n    //if there is no checkout_id in localStorage then we will create a new checkout\n\n    //else fetch the checkout from shopify\n  }\n\n  /**\n   * Store checkout id into localstorage\n   */\n  createCheckout = async () => {\n    const checkout = await client.checkout.create();\n    localStorage.setItem(\"yw_store_checkout\", checkout.id);\n    await this.setState({ checkout: checkout });\n  };\n\n  /**\n   * \n   * Fetch Checkout \n   */\n  fetchCheckout = async (checkoutId) => {\n    client.checkout\n      .fetch(checkoutId)\n      .then((checkout) => {\n        this.setState({ checkout: checkout });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  /**\n   * \n   * Add Item to checkout\n   */\n  addItemToCheckout = async (variantId, quantity) => {\n\n    const lineItemsToAdd = [{ variantId, quantity: parseInt(quantity, 10)}];\n    \n    const checkout = await client.checkout.addLineItems(\n      this.state.checkout.id,\n      lineItemsToAdd\n    );\n    \n    this.setState({ checkout: checkout });\n    console.log(checkout);\n\n    this.openCart();\n  };\n\n  /**\n   * Remove Item from checkout\n   */\n  removeItemFromCheckout = async (checkoutId, lineItemIdsRemove) => {\n    \n      const lineItemIdsToRemove = [lineItemIdsRemove];\n\n      // Remove an item from the checkout\n      const checkout = client.checkout.removeLineItems(checkoutId, lineItemIdsToRemove)\n      .then((checkout) => {\n        // Do something with the updated checkout\n        console.log(checkout.lineItems); // Checkout with line item 'Z2lkOi8vc2hvcGlmeS9Qcm9kdWN0Lzc4NTc5ODkzODQ=' removed\n        console.log(checkout.lineItems.type)\n        console.log(\"LENGTH\", checkout.lineItems.length); \n      });\n\n      //this.setState({ checkout: checkout });\n      console.log(checkout);\n      \n  }\n\n\n\n  /**\n   * Fetch All Products\n   */\n  fetchAllProducts = async () => {\n    const products = await client.product.fetchAll();\n    this.setState({ products: products });\n  };\n\n  /**\n   * \n   * Fetch single product\n   */\n  fetchProductWithId = async (id) => {\n    const product = await client.product.fetch(id);\n    this.setState({ product: product });\n    //console.log(JSON.stringify(product));\n\n    return product;\n  };\n\n  closeCart = () => {\n    this.setState({ isCartOpen: false });\n  };\n  openCart = () => {\n    this.setState({ isCartOpen: true });\n  };\n\n  \n  render() {\n    return (\n      <ShopContext.Provider\n        value={{\n          ...this.state,\n          fetchAllProducts: this.fetchAllProducts,\n          fetchProductWithId: this.fetchProductWithId,\n          closeCart: this.closeCart,\n          openCart: this.openCart,\n          addItemToCheckout: this.addItemToCheckout,\n          removeItemFromCheckout: this.removeItemFromCheckout,\n        }}\n      >\n        {this.props.children}\n      </ShopContext.Provider>\n    );\n  }\n}\n\nconst ShopConsumer = ShopContext.Consumer;\n\nexport { ShopConsumer, ShopContext };\n\nexport default ShopProvider;","import {useEffect, useState} from 'react';\nimport Items from './components/Items';\nimport Item from './components/Item';\nimport Cart from './components/Cart';\n//import {actionFetchAllProduct} from './redux/action';\n//import {useDispatch, useSelector} from 'react-redux';\n\nfunction Products() {\n\n  //const dispatch = useDispatch();\n  //const product = useSelector(state => state.reducerFetchAllProducts.product_data);\n\n  //console.log(product);\n\n  const [productId, setProductId] = useState('');\n\n\n\n  // useEffect(()=>{\n  //   dispatch(actionFetchAllProduct());\n  // },[dispatch])\n\n  return (\n    <div>\n      <h1>Shopify : REDUX </h1>\n    </div>\n  )\n}\n\nexport default Products","import {BrowserRouter, Switch } from 'react-router-dom';\nimport Products from './Products';\n\n\n\nfunction App() {\n\n  return (\n    <div>\n      shopify shop\n      <BrowserRouter>\n        <Switch>\n          <Products />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDom from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\nReactDom.render(<App/>, document.getElementById(\"root\"));"],"sourceRoot":""}