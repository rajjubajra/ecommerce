{"version":3,"sources":["context/shopContext.js","components/Loading.js","components/Items.js","components/Item.js","components/Cart.js","Products.js","App.js","index.js"],"names":["ShopContext","React","createContext","client","Client","buildClient","storefrontAccessToken","domain","ShopProvider","state","products","product","checkout","isCartOpen","createCheckout","a","create","localStorage","setItem","id","setState","fetchCheckout","checkoutId","fetch","then","catch","err","console","log","addItemToCheckout","variantId","quantity","lineItemsToAdd","parseInt","addLineItems","openCart","fetchAllProducts","fetchAll","fetchProductWithId","closeCart","yw_store_checkout","this","Provider","value","props","children","Component","Consumer","Loading","Items","setProductId","useContext","useEffect","map","item","data","image","title","descriptionHtml","images","variants","onClick","className","src","alt","available","sku","price","Item","productId","Cart","lineItems","useState","setLineItems","checkoutData","setCheckoutData","totalAmount","setTotalAmount","currency","setCurrency","undefined","totalPriceV2","currencyCode","length","rate","variant","qty","amt","altText","toFixed","class","amount","window","location","replace","webUrl","Products","App","ReactDom","render","document","getElementById"],"mappings":"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","file":"static/js/main.536e6d0a.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport Client from \"shopify-buy\";\n\nconst ShopContext = React.createContext();\n\n\nconst client = Client.buildClient({\n  storefrontAccessToken: 'cc92551596409162e6f510c8efd7f0b0',\n  domain: 'yw-t-shirt.myshopify.com',\n});\n\n\n\nclass ShopProvider extends Component {\n\n  state = {\n    products: [],\n    product: {},\n    checkout: {},\n    isCartOpen: false,\n  };\n\n  componentDidMount() {\n    // this.createCheckout();\n\n    //Check if localStorage has a checkout_id saved\n    if (localStorage.yw_store_checkout) {\n      this.fetchCheckout(localStorage.yw_store_checkout);\n    } else {\n      this.createCheckout();\n    }\n    //if there is no checkout_id in localStorage then we will create a new checkout\n\n    //else fetch the checkout from shopify\n  }\n\n  createCheckout = async () => {\n    const checkout = await client.checkout.create();\n    localStorage.setItem(\"yw_store_checkout\", checkout.id);\n    await this.setState({ checkout: checkout });\n  };\n\n  fetchCheckout = async (checkoutId) => {\n    client.checkout\n      .fetch(checkoutId)\n      .then((checkout) => {\n        this.setState({ checkout: checkout });\n      })\n      .catch((err) => console.log(err));\n  };\n\n  addItemToCheckout = async (variantId, quantity) => {\n    const lineItemsToAdd = [\n      {\n        variantId,\n        quantity: parseInt(quantity, 10),\n      },\n    ];\n    const checkout = await client.checkout.addLineItems(\n      this.state.checkout.id,\n      lineItemsToAdd\n    );\n    this.setState({ checkout: checkout });\n    console.log(checkout);\n\n    this.openCart();\n  };\n\n  fetchAllProducts = async () => {\n    const products = await client.product.fetchAll();\n    this.setState({ products: products });\n  };\n\n  fetchProductWithId = async (id) => {\n    const product = await client.product.fetch(id);\n    this.setState({ product: product });\n    //console.log(JSON.stringify(product));\n\n    return product;\n  };\n\n  closeCart = () => {\n    this.setState({ isCartOpen: false });\n  };\n  openCart = () => {\n    this.setState({ isCartOpen: true });\n  };\n\n  render() {\n    return (\n      <ShopContext.Provider\n        value={{\n          ...this.state,\n          fetchAllProducts: this.fetchAllProducts,\n          fetchProductWithId: this.fetchProductWithId,\n          closeCart: this.closeCart,\n          openCart: this.openCart,\n          addItemToCheckout: this.addItemToCheckout,\n        }}\n      >\n        {this.props.children}\n      </ShopContext.Provider>\n    );\n  }\n}\n\nconst ShopConsumer = ShopContext.Consumer;\n\nexport { ShopConsumer, ShopContext };\n\nexport default ShopProvider;","import React from 'react'\n\nfunction Loading() {\n  return (\n    <div>\n      Loading...\n    </div>\n  )\n}\n\nexport default Loading\n","import {useContext, useEffect} from 'react'\nimport {ShopContext} from '../context/shopContext';\nimport Loading from './Loading';\n\n\nfunction Items({setProductId}) {\n\n  const {fetchAllProducts, products} = useContext(ShopContext)\n\n\n  useEffect(()=>{\n      fetchAllProducts();\n      return () => {\n        //clean up\n      };\n  },[fetchAllProducts])\n\n  //console.log(products);\n\n  const LoadImage = (image) => {\n    return image.map((item)=>{\n      return <div><img className=\"w-48 p-1\" src={item.src} alt=\"product item\" /></div>\n    })\n  }\n\n  const LoadVariants = (data) => {\n    return data.map(item => {\n      const {available, sku, title, price } = item;\n      return available && <div className=\"flex p-2 bg-gray-100 m-1\">\n        <p>{title}</p>\n        <p> Price: {price}</p>\n        <p> SKU: {sku}</p>\n      </div>\n    })\n  }\n\n  if(!products) return <Loading />\n  return (\n    <div>\n      {\n        products.map((item)=>{\n          const {id,title, descriptionHtml, images, variants} = item;\n          return <div \n          onClick={() => setProductId(id)}\n          className=\"border border-gray-300 p-3 m-3\">\n            <h3>{title}</h3>\n            <div>{descriptionHtml}</div>\n            <div>{LoadImage(images)}</div>\n            <div>{LoadVariants(variants)}</div>\n          </div>\n        })\n      }\n      \n    </div>\n  )\n}\n\nexport default Items","import {useEffect, useState, useContext} from 'react';\nimport {ShopContext} from '../context/shopContext';\nimport Loading from './Loading';\n\n\nfunction Item({productId, setProductId}) {\n\n  const { fetchProductWithId, addItemToCheckout, product } = useContext(ShopContext)\n\n\n  useEffect(()=>{\n    fetchProductWithId(productId);\n  },[fetchProductWithId, productId])\n\n  //console.log(product);\n\n  const LoadImage = (image) => {\n    return image.map((item)=> {\n      return <div><img className=\"md:w-1/2 w-full p-1\" src={item.src} alt=\"product item\" /></div>\n    })\n  }\n\n  const LoadVariants = (data) => {\n    return data.map(item => {\n      const {available, sku, title, price } = item;\n      return available && <div className=\"flex flex-col p-2 bg-gray-100 m-1\">\n        <div>{title}</div>\n        <div> Price: {price}</div>\n        <div> SKU: {sku}</div>\n      </div>\n    })\n  }\n\n\n  if(!product.title) return <Loading />\n  return (\n    <div className=\"w-1/2 m-auto flex flex-col justify-center\">\n    <div className=\"p-2 m-2 w-20 cursor-pointer\">\n      <div onClick={()=> setProductId('')}> Close </div>\n    </div>\n      \n    {\n      product &&\n      <div className=\"flex flex-col py-4 my-2 border border-gray-200\">\n\n      <h1 className=\"text-2xl\">{product.title}</h1>\n      <div>\n        {LoadImage(product.images)}\n      </div>\n      <div>\n        {LoadVariants(product.variants)}\n      </div>\n      <div>\n        <div className=\"cursor-pointer p-2 m-2\" onClick={() => addItemToCheckout(product.variants[0].id, 1)}>\n        Add to Cart</div>\n      </div>\n      \n      </div>\n    }\n    </div>\n  )\n}\n\nexport default Item;","import {useContext, useEffect, useState} from 'react';\nimport {ShopContext} from '../context/shopContext';\nimport Loading from '../components/Loading';\nimport {Link} from 'react-router-dom';\n\n\nfunction Cart() {\n\nconst { isCartOpen, closeCart, checkout } = useContext(ShopContext)\n\nconsole.log(checkout);\nconsole.log(checkout && checkout === !undefined && checkout.lineItems);\n\nconst [lineItems, setLineItems] = useState([]);\nconst [checkoutData, setCheckoutData] = useState('');\nconst [totalAmount, setTotalAmount] = useState(0);\nconst [currency, setCurrency] = useState('');\n\nuseEffect(()=>{\n  checkout && checkout !== undefined && setLineItems(checkout.lineItems);\n  checkout && checkout !== undefined && setCheckoutData(checkout);\n  checkout && checkout !== undefined && setTotalAmount(checkout.totalPriceV2);\n},[checkout])\n\n\nuseEffect(()=>{\n  totalAmount !== undefined && setCurrency(totalAmount.currencyCode);\n},[totalAmount])\n\n\nconsole.log(\"Line items\", lineItems !== undefined && lineItems.length );\nconsole.log(\"checkoutData\", checkout !== undefined && checkoutData);\nconsole.log(\"checkoutData\", checkout !== undefined && totalAmount);\nconsole.log(\"checkoutData\", checkout !== undefined && currency);\n\n\n    lineItems !== undefined \n    && lineItems.length < 1 \n    && <Loading />\n    return (\n      <div className=\"w-full flex flex-col p-2 my-3\">\n        <h2 className=\"text-xl\">Cart</h2>\n        {lineItems !== undefined && lineItems.length > 0 \n        ? lineItems.map((item)=> {\n\n          const {variant:{price: rate}, quantity: qty, title} = item;\n          const amt = rate * qty;\n\n          \n        return <div className=\"flex flex-col\">\n            <h3 className=\"text-xl py-1 mb-1\">{title}</h3>\n            <div className=\"flex flex-row flex-wrap\">\n                <div>\n                <img\n                  className=\"w-56 mt-1 p-2\" \n                  src={item.variant.image.src}  \n                  alt={item.variant.image.altText} />\n                </div>\n                <div className=\"grid grid-flow-row gap-2 w-full\">\n                  <p>Description: {item.variant.title}</p>\n                  <p>Quantity: {qty}</p>\n                  <p>Rate: {currency} {rate}</p>\n                  <p>Amount: {currency} {amt.toFixed(2)}</p>\n                </div>\n            </div>\n          </div>\n        })\n        : <div className=\"text-xl p-2\">Cart is empty</div> \n        }\n        <div class=\"font-bold mt-2\">Total Amount : {currency} {totalAmount !== undefined && totalAmount.amount}</div>\n        <div>\n          { checkout !== undefined \n            && <div onClick={() => window.location.replace(checkout.webUrl)} >\n              Checkout</div> }\n        </div>\n      </div>\n    )\n}\n\nexport default Cart","import {useState} from 'react';\nimport ShopProvider from './context/shopContext';\nimport Items from './components/Items';\nimport Item from './components/Item';\nimport Cart from './components/Cart';\n\nfunction Products() {\n\n  const [productId, setProductId] = useState('');\n  const [quantity, setQuantity] = useState('');\n\n  console.log(productId);\n\n  return (\n    <div>\n    <ShopProvider>\n      <Items setProductId={setProductId} />\n      <Item productId={productId} setProductId={setProductId} />\n      <Cart />\n    </ShopProvider>  \n    </div>\n  )\n}\n\nexport default Products\n","import {BrowserRouter, Switch } from 'react-router-dom';\nimport Products from './Products';\n\n\n\nfunction App() {\n\n  return (\n    <div>\n      shopify shop\n      <BrowserRouter>\n        <Switch>\n          <Products />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDom from 'react-dom';\nimport './index.css';\nimport App from './App'\n\n\nReactDom.render(<App/>, document.getElementById(\"root\"));"],"sourceRoot":""}